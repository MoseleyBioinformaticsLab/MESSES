<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Table Schema &mdash; MESSES 0.1.dev1+gfd456c8 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Controlled Vocabulary" href="controlled_vocabulary.html" />
    <link rel="prev" title="Conversion Directives" href="conversion_directives.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MESSES
          </a>
              <div class="version">
                0.1.dev1+gfd456c8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide.html#messes">MESSES</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tagging.html">Tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="conversion_directives.html">Conversion Directives</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Table Schema</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#terminology">Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview-of-relational-tables">Overview of (Relational) Tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#project">project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#study">study</a></li>
<li class="toctree-l3"><a class="reference internal" href="#protocol">protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="#entity">entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#measurement">measurement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#factor">factor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#additional-rules">Additional Rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#table-specific-rules">Table-Specific Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id-fields">ID Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subject-sample-inheritance-rules">Subject/Sample Inheritance Rules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#overview-of-protocol-types">Overview of Protocol Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#treatment">treatment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collection">collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-prep">sample_prep</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">measurement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#storage">storage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="controlled_vocabulary.html">Controlled Vocabulary</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported_formats.html">Supported Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">TODO List</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MESSES</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Table Schema</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/table_schema.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="table-schema">
<h1>Table Schema<a class="headerlink" href="#table-schema" title="Permalink to this heading"></a></h1>
<section id="terminology">
<h2>Terminology<a class="headerlink" href="#terminology" title="Permalink to this heading"></a></h2>
<ul>
<li><p><strong>record/entry</strong> - collection of data points with a unique identifer organized together.</p>
<blockquote>
<div><ul class="simple">
<li><p>Example: “sample_01”: {“type”:”tissue”, “weight”:”30”, “units”:”grams”}</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>field/attribute/property</strong> - piece of data with a unique identifer associated with a record.</p>
<blockquote>
<div><ul class="simple">
<li><p>Example: weight for a sample record.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="overview-of-relational-tables">
<h2>Overview of (Relational) Tables<a class="headerlink" href="#overview-of-relational-tables" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>The data model that was developed for LIMS was designed to capture generalized experimental data in an abstract way.</dt><dd><ul class="simple">
<li><p>It is an <a class="reference external" href="https://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model">entity-attribute-value model</a>, and almost all experimental data should be able to be comprehensively described using this model.</p></li>
<li><dl class="simple">
<dt>This model has the following tables:</dt><dd><ul>
<li><p>entity</p></li>
<li><p>protocol</p></li>
<li><p>measurement</p></li>
<li><p>factor</p></li>
<li><p>project</p></li>
<li><p>study</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Although the tables have been generally described below, there are more details and logic needed to explain the framework.</p></li>
</ul>
</dd>
</dl>
<section id="project">
<h3>project<a class="headerlink" href="#project" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A project generally describes the hypothesis being tested, or the information being sought.</strong></dt><dd><ul class="simple">
<li><p>Generally there is one project per published paper, but a project can cover multiple publications.</p></li>
<li><p>It is somewhat arbitrary how to categorize a project, but defining one project per paper is a good start.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="study">
<h3>study<a class="headerlink" href="#study" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A study is generally one experiment inside of the project.</strong></dt><dd><ul class="simple">
<li><p>For instance, if you are testing the effectiveness of a treatment on lung cancer and you try the treatment on both cell lines and mice, the cell line would be one study and the mouse another.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="protocol">
<h3>protocol<a class="headerlink" href="#protocol" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A protocol describes an operation or set of operations done on a subject or sample.</strong></dt><dd><ul class="simple">
<li><p>For example, if mouse organs are frozen in liquid nitrogen and then ground into powder this could be either 1 protocol to describe both operations or 2 to separate the freezing step and grinding step.</p></li>
<li><p>How to break operations up can be an arbitrary decision, but some good rules of thumb are to make operations with significant time between them separate protocols, or if there are measurements associated with an operation.</p></li>
<li><p>For example, if the tissue is weighed before and after freezing and before and after grinding it might be a good idea to have the operations in separate protocols so the weights are clearly associated with each operation.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="entity">
<h3>entity<a class="headerlink" href="#entity" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>Entities are either subjects or samples which are similar to each other and interconnected.</strong></dt><dd><ul class="simple">
<li><dl class="simple">
<dt>A subject is something that receives a treatment, or is subjected to different experimental factors.</dt><dd><ul>
<li><p>For example, if you are testing a treatment on a cell line with a line in 6 different dishes (1 treatment with 3 replicates and 1 null with 3 replicates), the line in each dish would be a separate subject.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Samples are collected from subjects.</dt><dd><ul>
<li><p>For example, if we revisit the previous example and assume that media is collected from the lines every so often each media collection would be a separate sample.</p></li>
<li><p>Samples can also come from other samples. For example, if you take the media samples from the previous example and then perform several steps before measuring something, such as adding a solvent or some other preparation step then the sample technically becomes a new sample that was derived from the original sample.</p></li>
<li><dl class="simple">
<dt>Samples can also become subjects if they are subjected to a treatment.</dt><dd><ul>
<li><p>For example, when a cancer sample is extracted from a person and then pieces are implanted in mice for treatment testing the mice are subjects with sample parents.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Determining what is a sample and a subject can be confusing, but largely the key is whether or not the thing in question underwent a treatment or has an experimental factor of interest.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</section>
<section id="measurement">
<h3>measurement<a class="headerlink" href="#measurement" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A measurement is typically the results acquired after putting a sample through a sophisticated machine such as a mass spec or NMR, as well as any calculations on these results that is used for analysis.</strong></dt><dd><ul class="simple">
<li><p>This is what people will typically think of as data while the information in the other tables would be metadata.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="factor">
<h3>factor<a class="headerlink" href="#factor" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A factor is an experimental factor of the experiment.</strong></dt><dd><ul class="simple">
<li><p>For example, if there are different treatments done to cell lines this would be a factor.</p></li>
<li><p>Each treatment would be a separate protocol, but the different protocols would be 1 factor.</p></li>
<li><p>If an experiment also looks at age, race, gender, etc. then these would each be separate factors.</p></li>
</ul>
</dd>
</dl>
</section>
</section>
<section id="additional-rules">
<h2>Additional Rules<a class="headerlink" href="#additional-rules" title="Permalink to this heading"></a></h2>
<section id="table-specific-rules">
<h3>Table-Specific Rules<a class="headerlink" href="#table-specific-rules" title="Permalink to this heading"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>The project, study, and factor tables are straightforward and records will generally have the same fields regardless of the experiment, but records in the subject, sample, measurement, and protocol tables may have different fields depending on the experiment.</p></li>
<li><p>The way this model handles that is through the use of inheritance and context.</p></li>
<li><dl class="simple">
<dt>Records in the subject, sample, and measurement tables have different fields based on the protocol id the record has.</dt><dd><ul>
<li><p>In other words, the records have different fields based on the context of the protocol.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Records in the protocol table have the fields set in the protocol plus the fields of their ancestors.</p></li>
</ul>
</div></blockquote>
</section>
<section id="id-fields">
<h3>ID Fields<a class="headerlink" href="#id-fields" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>Any field for any record that ends in “.id” must be an id to an existing record in that field’s table.</strong></dt><dd><ul class="simple">
<li><p>For instance, if the field “protocol.id” : “tissue_extraction” is in a sample record then the protocol table must contain a record with the id “tissue_extraction”.</p></li>
<li><p>Similarly, if a record has the “parent_id” field the value must be an existing id in the same table as that record. For example, if “parent_id” : “tissue_extraction” is in a record in the protocol table then the protocol table must containe a record with the id “tissue_extraction”.</p></li>
<li><p>The exception to this rule is the subject and sample tables. Subject records must have a parent in the sample table, and sample records could have a parent in either the subject or sample tables.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="subject-sample-inheritance-rules">
<h3>Subject/Sample Inheritance Rules<a class="headerlink" href="#subject-sample-inheritance-rules" title="Permalink to this heading"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>If a sample comes from a sample it must have a sample_prep type protocol.</p></li>
<li><p>If a sample comes from a subject it must have a collection type protocol.</p></li>
<li><p>Subjects should have a treatment type protocol.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="overview-of-protocol-types">
<h2>Overview of Protocol Types<a class="headerlink" href="#overview-of-protocol-types" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt><strong>There are currently 5 different types of protocols:</strong></dt><dd><ul class="simple">
<li><p>treatment</p></li>
<li><p>collection</p></li>
<li><p>sample_prep</p></li>
<li><p>measurement</p></li>
<li><p>storage</p></li>
</ul>
</dd>
</dl>
<section id="treatment">
<h3>treatment<a class="headerlink" href="#treatment" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A treatment protocol is used to describe the experimental factors done to subjects.</strong></dt><dd><ul class="simple">
<li><p>For example, if a cell line is given 2 different media solutions to observe the different growth behavior between the 2 then this would be a treatment type protocol.</p></li>
<li><p>Each treatment would be a separate protocol that describes the specifics of the solution or other factors.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="collection">
<h3>collection<a class="headerlink" href="#collection" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A collection protocol is used to describe how samples are collected from subjects.</strong></dt><dd><ul class="simple">
<li><p>For example, if media is taken out of a cell culture at various time points this would be a collection protocol.</p></li>
<li><p>Details such as the time of collection and the weight or volume of collection may be some of the attributes associated with the protocol.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="sample-prep">
<h3>sample_prep<a class="headerlink" href="#sample-prep" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A sample_prep protocol is used to describe operations done to samples.</strong></dt><dd><ul class="simple">
<li><p>Typically, these operations would be done or are necessary in preparation for going into a measuring device.</p></li>
<li><p>For example, once the cells in a culture are collected they may be spun in a centrifuge or have solvents added to separate out protein, lipids, etc.</p></li>
<li><p>These steps would be a sample_prep protocol.</p></li>
<li><p>How to organize such operations into protocols can be arbitrary and is left to the discretion of the creator.</p></li>
<li><p>Details such as the concentration of solvents, speed of the centrifuge, or weight of the spearated parts may be some attributes associated with the protocol.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="id1">
<h3>measurement<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A measurement protocol is used to describe operations done on samples to measure features about them.</strong></dt><dd><ul class="simple">
<li><p>For example, if a sample is put through a mass spectrometer or into an NMR.</p></li>
<li><p>Typically, the results of the measurement will be attributes associated with the protocol.</p></li>
<li><p>This is also the protocol type used for any analysis or calculations done on the data generated by instruments such as a mass spec.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="storage">
<h3>storage<a class="headerlink" href="#storage" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><strong>A storage protocol is used to describe where things are stored.</strong></dt><dd><ul class="simple">
<li><p>This was created mostly to help keep track of where samples were physically stored in freezers or where measurement data files were located on a share drive.</p></li>
<li><p>But this protocol should include other storage details like temperature for the physical storage of samples.</p></li>
</ul>
</dd>
</dl>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="conversion_directives.html" class="btn btn-neutral float-left" title="Conversion Directives" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="controlled_vocabulary.html" class="btn btn-neutral float-right" title="Controlled Vocabulary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Hunter Moseley, Travis Thompson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>