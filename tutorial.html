<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial &mdash; MESSES 0.1.dev1+g144a391 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom_css.css" type="text/css" />
      <link rel="stylesheet" href="_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tagging" href="tagging.html" />
    <link rel="prev" title="CLI" href="cli.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MESSES
          </a>
              <div class="version">
                0.1.dev1+g144a391
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#extract">Extract</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-run">Basic Run</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compare-option">Compare Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modify-option">Modify Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#automate-option">Automate Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#save-directives-option">Save Directives Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#save-export-option">Save Export Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#show-option">Show Option</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#validate">Validate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-json-validation">Basic JSON Validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#json-validation-against-a-supported-format">JSON Validation Against A Supported Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#json-validation-with-a-protocol-dependent-schema">JSON Validation With A Protocol-Dependent Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#json-validation-with-added-user-schema">JSON Validation With Added User Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#json-validation-with-only-added-user-schema">JSON Validation With Only Added User Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-input-json-from-stdin">Read Input JSON From STDIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-protocol-dependent-schema-from-stdin">Read Protocol-Dependent Schema From STDIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#save-base-schema">Save Base Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#save-composite-schema">Save Composite Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#save-format-schema">Save Format Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#validate-a-json-schema">Validate A JSON Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#validate-a-protocol-dependent-schema">Validate A Protocol-Dependent Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#save-the-json-schema-created-from-the-protocol-dependent-schema">Save The JSON Schema Created From The Protocol-Dependent Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transform-a-jsonized-protocol-dependent-schema-to-a-table">Transform A JSONized Protocol-Dependent Schema To A Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transform-a-tabular-protocol-dependent-schema-to-json">Transform A Tabular Protocol-Dependent Schema To JSON</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-a-json-schema-from-conversion-directives">Create A JSON Schema From Conversion Directives</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#convert">Convert</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-supported-format-run">Basic Supported Format Run</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updating-built-in-directives-for-supported-format-run">Updating Built-In Directives For Supported Format Run</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overriding-built-in-directives-for-supported-format-run">Overriding Built-In Directives For Supported Format Run</a></li>
<li class="toctree-l4"><a class="reference internal" href="#save-built-in-directives-for-supported-formats">Save Built-In Directives For Supported Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#basic-generic-run">Basic Generic Run</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tagging.html">Tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="conversion_directives.html">Conversion Directives</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiment_description_specification.html">Experiment Description Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocol_dependent_schema.html">Protocol-Dependent Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported_formats.html">Supported Conversion Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">TODO List</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MESSES</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Tutorial</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this heading"></a></h1>
<p>MESSES is intended to be used solely as a command line program. This
tutorial describes each command and its options. Before running the program you
will likely want to review the <a class="reference internal" href="experiment_description_specification.html"><span class="doc">Experiment Description Specification</span></a> page and the
<a class="reference internal" href="tagging.html"><span class="doc">Tagging</span></a> page, as well as the examples in the examples folder on the <a class="reference external" href="https://github.com/MoseleyBioinformaticsLab/messes">GitHub</a>
repository.</p>
<p>Top-Level Usage</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Usage:
    messes -h | --help     print this screen.
    messes --full-help     help documentation on all commands.
    messes --version       print the version.
    messes extract ...     extract data from Excel workbooks, csv files, and JSON.
    messes validate ...    validate JSON files.
    messes convert ...     convert JSON to other file formats.

For help on a specific command, use the command option -h or --help.
For example:
    messes extract --help   for help documentation about the extract command.
</pre></div>
</div>
<p>MESSES is broken into 3 main commands, extract, validate, and convert, with convert broken up further for each supported conversion.
The highest level usage is simply a gateway to the other commands and has very few options. You can see the version with the -v option,
print the usage with -h option or print all of the commands usage’s with the –full-help option.</p>
<section id="extract">
<h2>Extract<a class="headerlink" href="#extract" title="Permalink to this heading"></a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span> Usage:
    messes extract &lt;metadata_source&gt;... [--delete &lt;metadata_section&gt;...] [options]
    messes extract --help

    &lt;metadata_source&gt; - tagged input metadata source as csv/json filename or 
                        xlsx_filename[:worksheet_name|regular_expression] or 
                        google_sheets_url[:worksheet_name|regular_expression]
                        &quot;#export&quot; worksheet name is the default.

 Options:
    -h, --help                          - show this help documentation.
    -v, --version                       - show the version.
    --silent                            - print no warning messages.
    --output &lt;filename_json&gt;            - output json filename.
    --compare &lt;filename_json&gt;           - compare extracted metadata to given JSONized metadata.
    --modify &lt;source&gt;                   - modification directives worksheet name, regular expression, csv/json filename, or 
                                          xlsx_filename:[worksheet_name|regular_expression] or 
                                          google_sheets_url[:worksheet_name|regular_expression] 
                                          [default: #modify].
    --end-modify &lt;source&gt;               - apply modification directives after all metadata merging. Requires csv/json filename or 
                                          xlsx_filename:[worksheet_name|regular_expression] or 
                                          google_sheets_url[:worksheet_name|regular_expression].
    --automate &lt;source&gt;                 - automation directives worksheet name, regular expression, csv/json filename, or 
                                          xlsx_filename:[worksheet_name|regular_expression] or 
                                          google_sheets_url[:worksheet_name|regular_expression] 
                                          [default: #automate].
    --save-directives &lt;filename_json&gt;   - output filename with modification and automation directives in JSON format.
    --save-export &lt;filetype&gt;            - output export worksheet with suffix &quot;_export&quot; and with the indicated xlsx/csv format extension.
    --show &lt;show_option&gt;                - show a part of the metadata. See options below.
    --delete &lt;metadata_section&gt;...      - delete a section of the JSONized metadata. Section format is tableKey or tableKey,IDKey or tableKey,IDKey,fieldName. These can be regular expressions.
    --keep &lt;metadata_tables&gt;            - only keep the selected tables.  Delete the rest.  Table format is tableKey,tableKey,... The tableKey can be a regular expression.
    --file-cleaning &lt;remove_regex&gt;      - a string or regular expression to remove characters in input files, removes unicode and \r characters by default, enter &quot;None&quot; to disable [default: _x([0-9a-fA-F]{4})_|\r].

Show Options:
  tables    - show tables in the extracted metadata.
  lineage   - show parent-child lineages per table.
  all       - show every option.

Regular Expression Format:
  Regular expressions have the form &quot;r&#39;...&#39;&quot; on the command line.
  The re.match function is used, which matches from the beginning of a string, meaning that a regular expression matches as if it starts with a &quot;^&quot;.

 Directives JSON Format:
   {
    &quot;modification&quot; : { table : { field :  { &quot;(exact|regex|levenshtein)\-(first|first\-nowarn|unique|all)&quot; :
                      { field_value : { &quot;assign&quot; : { field : value,... }, &quot;append&quot; : { field : value,... }, &quot;prepend&quot; : { field : value,... },
                                        &quot;regex&quot; : { field : regex_pair,... }, &quot;delete&quot; : [ field,... ], &quot;rename&quot; : { old_field : new_field } } } } } }
    &quot;automation&quot; : [ { &quot;header_tag_descriptions&quot; : [ { &quot;header&quot; : column_description, &quot;tag&quot; : tag_description, &quot;required&quot; : true|false } ],   &quot;exclusion_test&quot; : exclusion_value, &quot;insert&quot; : [ [ cell_content, ... ] ] } ]
   }

</pre></div>
</div>
<p>The extract command is used to extract tabular data in an Excel workbook or CSV file to JSON. It has several hard to describe options
and functionality.</p>
<section id="options">
<h3>Options<a class="headerlink" href="#options" title="Permalink to this heading"></a></h3>
<dl class="option-list">
<dt><kbd><span class="option">--silent</span></kbd></dt>
<dd><p>This option will silence all warning messages. Errors will still be printed.</p>
</dd>
<dt><kbd><span class="option">--output</span></kbd></dt>
<dd><p>This option is used to specify the name of the JSON file that will be output. If this option is not specified there will be no output file.</p>
</dd>
<dt><kbd><span class="option">--compare</span></kbd></dt>
<dd><p>This option allows you to compare the resulting JSON file with the one provided with this option. It will show differences such as missing and extra tables and fields.</p>
</dd>
<dt><kbd><span class="option">--modify</span></kbd></dt>
<dd><p>This option is used to specify the Excel worksheet name, the Excel file and worksheet name, or the CSV or JSON file name that contains the modification tags.
The default assumption for MESSES is that the input file is an Excel workbook, so the default sheet name for the modify option is ‘#modify’. Be sure any input Excel
files do not have a worksheet with this name if it does not contain modification tags. To specify a separate Excel file and sheet name as the location of modification
tags, the file name/path and sheet name need to be separated by a semicolon. Ex. Modification_tags.xlsx:sheet1. The sheet name can also be a regular expression.
Ex. Modification_tags.xlsx:r’.*dify’  or just  r’.*dify’  to specify a regex for a sheetname in the input data file. File types other than Excel are specified as
normal. If multiple input data files are given, the specified file or sheet name given to –modify is used for all of them. Details about modification tags are
in the <a class="reference internal" href="tagging.html"><span class="doc">Tagging</span></a> section.</p>
</dd>
<dt><kbd><span class="option">--end-modify</span></kbd></dt>
<dd><p>The same as –modify, but modifications are done at the end, after all input data files have been parsed and merged into one JSON file. There is
no default value.</p>
</dd>
<dt><kbd><span class="option">--automate</span></kbd></dt>
<dd><p>The same as –modify, but for automation tags. The default sheet name is ‘#automate’. Details about automation tags are in the <a class="reference internal" href="tagging.html"><span class="doc">Tagging</span></a> section.</p>
</dd>
<dt><kbd><span class="option">--save-directives</span></kbd></dt>
<dd><p>This option allows you to save any modification or automation directives as JSON to the specified file path. Note that –end-modify directives
will overwrite –modify directives, so only –end-modify directives will be in the output if specified.</p>
</dd>
<dt><kbd><span class="option">--save-export</span></kbd></dt>
<dd><p>This option lets you save the version of the data that has all automations applied just before parsing into JSON. It can be useful for debugging.
The export file will be saved with the same name as the input file with ‘_export’ added to the end. Choose ‘csv’ to save as a CSV file, and ‘xlsx’ to save as
an Excel file. Note that this file will likely not look pretty.</p>
</dd>
<dt><kbd><span class="option">--show</span></kbd></dt>
<dd><p>This option allows you to see tables or lineages in the input data. Specify ‘tables’ to see tables, ‘lineages’ to see lineages, or ‘all’ to see both.</p>
</dd>
<dt><kbd><span class="option">--delete</span></kbd></dt>
<dd><p>Use this option to delete tables, records, or fields from the JSONized input. Note that fields can also be deleted using modification tags. This
option is limited and only allows the deletion of one table, record, or field at a time. Ex. –delete protocol  will delete the protocol table. Tables, records,
and fields can also be specified with regular expressions. Ex. –delete r’.*tocol’ will delete all tables that match the regular expression. If
you would like to delete all records besides those that match a certain pattern you can use a more advanced regular expression.
Ex. entity,r’^(?!.*(-ICMS_A|-protein))’ will delete all entities that do not have “-ICMS_A” or “-protein” in the id. The (?!…) special
grouping matches if the pattern inside is not found. You can see more complex examples of this option in the mwtab examples found in the
examples folder of the <a class="reference external" href="https://github.com/MoseleyBioinformaticsLab/messes">GitHub</a> repository.</p>
</dd>
<dt><kbd><span class="option">--keep</span></kbd></dt>
<dd><p>Use this option to keep only the indicated tables in the JSONized output. These are tables only, but multiple tables can be specified.
Ex. –keep protocol,measurement  will keep only the protocol and measurement tables. Tables can also specified with regular expressions Ex. –keep r’.*tocl’,r’measure.*’
will keep all the tables that match the regular expressions.</p>
</dd>
</dl>
</section>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h3>
<section id="basic-run">
<h4>Basic Run<a class="headerlink" href="#basic-run" title="Permalink to this heading"></a></h4>
<p>Input File:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 11%" />
<col style="width: 42%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>#tags</p></td>
<td><p>#sample.id</p></td>
<td><p>#%child.id=-media-0h;#.dry_weight;#.dry_weight%units=mg</p></td>
<td><p>#%child.id=-media-3h;#.dry_weight;#.dry_weight%units=mg</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>KO labelled_1</p></td>
<td><p>4.2</p></td>
<td><p>8.5</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>KO labelled_2</p></td>
<td><p>4.7</p></td>
<td><p>9.7</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.csv --output output_file.json</span>
</pre></div>
</div>
<p>Output JSON:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;sample&quot;: {</span>
<span class="go">    &quot;KO labelled_1&quot;: {</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_1-media-0h&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.2&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_1-media-0h&quot;,</span>
<span class="go">      &quot;parentID&quot;: &quot;KO labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_1-media-3h&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;8.5&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_1-media-3h&quot;,</span>
<span class="go">      &quot;parentID&quot;: &quot;KO labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_2&quot;: {</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_2&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_2-media-0h&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.7&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_2-media-0h&quot;,</span>
<span class="go">      &quot;parentID&quot;: &quot;KO labelled_2&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_2-media-3h&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;9.7&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_2-media-3h&quot;,</span>
<span class="go">      &quot;parentID&quot;: &quot;KO labelled_2&quot;</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
</section>
<section id="compare-option">
<h4>Compare Option<a class="headerlink" href="#compare-option" title="Permalink to this heading"></a></h4>
<p>Input File:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 11%" />
<col style="width: 41%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#tags</p></th>
<th class="head"><p>#sample.id</p></th>
<th class="head"><p>#%child.id=-media-0h;#.dry_weight;#.dry_weight%units=mg</p></th>
<th class="head"><p>#%child.id=-media-3h;#.dry_weight;#.dry_weight%units=mg</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>KO labelled_1</p></td>
<td><p>4.2</p></td>
<td><p>8.5</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>KO labelled_2</p></td>
<td><p>4.7</p></td>
<td><p>9.7</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>#tags</p></td>
<td><p>#protocol.id</p></td>
<td><p>#.field2</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>protocol_1</p></td>
<td><p>value1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>protocol_2</p></td>
<td><p>value2</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>#tags</p></td>
<td><p>#factor.id</p></td>
<td><p>#.field1</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>factor_1</p></td>
<td><p>value1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>factor_2</p></td>
<td><p>value2</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Comparison JSON:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;measurement&quot;: {</span>
<span class="go">    &quot;measurement_1&quot;: {</span>
<span class="go">      &quot;field1&quot;: &quot;value1&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;measurement_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;measurement_2&quot;: {</span>
<span class="go">      &quot;field1&quot;: &quot;value2&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;measurement_2&quot;</span>
<span class="go">    }</span>
<span class="go">  },</span>
<span class="go">  &quot;protocol&quot;: {</span>
<span class="go">    &quot;protocol_1&quot;: {</span>
<span class="go">      &quot;field1&quot;: &quot;value1&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;protocol_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;protocol_2&quot;: {</span>
<span class="go">      &quot;field1&quot;: &quot;value2&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;protocol_2&quot;</span>
<span class="go">    }</span>
<span class="go">  },</span>
<span class="go">  &quot;sample&quot;: {</span>
<span class="go">    &quot;KO labelled_1&quot;: {</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_1-media-0h&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.2&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_1-media-0h&quot;,</span>
<span class="go">      &quot;parentID&quot;: &quot;KO labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_1-media-3h&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;8.5&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_1-media-3h&quot;,</span>
<span class="go">      &quot;parentID&quot;: &quot;KO labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_3&quot;: {</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_3&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_3-media-0h&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.8&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_3-media-0h&quot;,</span>
<span class="go">      &quot;parentID&quot;: &quot;KO labelled_3&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_3-media-3h&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;8.8&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_3-media-3h&quot;,</span>
<span class="go">      &quot;parentID&quot;: &quot;KO labelled_3&quot;</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.csv --compare comparison.json</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Comparison</span>
<span class="go">Missing Tables: measurement</span>
<span class="go">Extra Tables: factor</span>
<span class="go">Table protocol id protocol_1 with different fields: field1, field2</span>
<span class="go">Table protocol id protocol_2 with different fields: field1, field2</span>
<span class="go">Table sample with missing records:</span>
<span class="go">   KO labelled_3 KO labelled_3-media-0h KO labelled_3-media-3h</span>
<span class="go">Table sample with extra records:</span>
<span class="go">   KO labelled_2 KO labelled_2-media-0h KO labelled_2-media-3h</span>
</pre></div>
</div>
</section>
<section id="modify-option">
<h4>Modify Option<a class="headerlink" href="#modify-option" title="Permalink to this heading"></a></h4>
<p>#export Sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 20%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#tags</p></th>
<th class="head"><p>#sample.id</p></th>
<th class="head"><p>#%child.id=-media-0h;#.dry_weight;#.dry_weight%units=mg</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>KO labelled_1</p></td>
<td><p>4.2</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>KO labelled_2</p></td>
<td><p>4.7</p></td>
</tr>
</tbody>
</table>
<p>#modify sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 32%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#tags</p></th>
<th class="head"><p>#sample.id.value</p></th>
<th class="head"><p>#sample.id.regex</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>r’KO labelled.*’</p></td>
<td><p>r’KO labelled’,r’KO_labelled’</p></td>
</tr>
</tbody>
</table>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.xlsx --output output.json</span>
</pre></div>
</div>
<p>Output JSON:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;sample&quot;: {</span>
<span class="go">    &quot;KO_labelled_1&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.2&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO_labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO_labelled_3&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.8&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO_labelled_3&quot;</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
</section>
<section id="automate-option">
<h4>Automate Option<a class="headerlink" href="#automate-option" title="Permalink to this heading"></a></h4>
<p>#export Sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 64%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sample ID</p></th>
<th class="head"><p>Weight</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KO labelled_1</p></td>
<td><p>4.2</p></td>
</tr>
<tr class="row-odd"><td><p>KO labelled_3</p></td>
<td><p>4.8</p></td>
</tr>
</tbody>
</table>
<p>#automate Sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 21%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#tags</p></th>
<th class="head"><p>#header</p></th>
<th class="head"><p>#add</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>Sample ID</p></td>
<td><p>#sample.id</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Weight</p></td>
<td><p>#.dry_weight;#.dry_weight%units=mg</p></td>
</tr>
</tbody>
</table>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.xlsx --output output.json</span>
</pre></div>
</div>
<p>Output JSON:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;sample&quot;: {</span>
<span class="go">    &quot;KO labelled_1&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.2&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_3&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.8&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_3&quot;</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
</section>
<section id="save-directives-option">
<h4>Save Directives Option<a class="headerlink" href="#save-directives-option" title="Permalink to this heading"></a></h4>
<p>#export Sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 64%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sample ID</p></th>
<th class="head"><p>Weight</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KO labelled_1</p></td>
<td><p>4.2</p></td>
</tr>
<tr class="row-odd"><td><p>KO labelled_3</p></td>
<td><p>4.8</p></td>
</tr>
</tbody>
</table>
<p>#automate Sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 21%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#tags</p></th>
<th class="head"><p>#header</p></th>
<th class="head"><p>#add</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>Sample ID</p></td>
<td><p>#sample.id</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Weight</p></td>
<td><p>#.dry_weight;#.dry_weight%units=mg</p></td>
</tr>
</tbody>
</table>
<p>#modify Sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 32%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#tags</p></th>
<th class="head"><p>#sample.id.value</p></th>
<th class="head"><p>#sample.id.regex</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>r’KO labelled.*’</p></td>
<td><p>r’KO labelled’,r’KO_labelled’</p></td>
</tr>
</tbody>
</table>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.xlsx --output output.json --save-directives directives.json</span>
</pre></div>
</div>
<p>Output JSON:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;sample&quot;: {</span>
<span class="go">    &quot;KO_labelled_1&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.2&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO_labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO_labelled_3&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.8&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO_labelled_3&quot;</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Output Directives:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;automation&quot;: [</span>
<span class="go">    {</span>
<span class="go">      &quot;header_tag_descriptions&quot;: [</span>
<span class="go">        {</span>
<span class="go">          &quot;header&quot;: &quot;Sample ID&quot;,</span>
<span class="go">          &quot;required&quot;: true,</span>
<span class="go">          &quot;tag&quot;: &quot;#sample.id&quot;</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">          &quot;header&quot;: &quot;Weight&quot;,</span>
<span class="go">          &quot;required&quot;: true,</span>
<span class="go">          &quot;tag&quot;: &quot;#.dry_weight;#.dry_weight%units=mg&quot;</span>
<span class="go">        }</span>
<span class="go">      ]</span>
<span class="go">    }</span>
<span class="go">  ],</span>
<span class="go">  &quot;modification&quot;: {</span>
<span class="go">    &quot;sample&quot;: {</span>
<span class="go">      &quot;id&quot;: {</span>
<span class="go">        &quot;regex-all&quot;: {</span>
<span class="go">          &quot;r&#39;KO labelled.*&#39;&quot;: {</span>
<span class="go">            &quot;regex&quot;: {</span>
<span class="go">              &quot;id&quot;: [</span>
<span class="go">                &quot;r&#39;KO labelled&#39;&quot;,</span>
<span class="go">                &quot;r&#39;KO_labelled&#39;&quot;</span>
<span class="go">              ]</span>
<span class="go">            }</span>
<span class="go">          }</span>
<span class="go">        }</span>
<span class="go">      }</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
</section>
<section id="save-export-option">
<h4>Save Export Option<a class="headerlink" href="#save-export-option" title="Permalink to this heading"></a></h4>
<p>#export Sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 64%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sample ID</p></th>
<th class="head"><p>Weight</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KO labelled_1</p></td>
<td><p>4.2</p></td>
</tr>
<tr class="row-odd"><td><p>KO labelled_3</p></td>
<td><p>4.8</p></td>
</tr>
</tbody>
</table>
<p>#automate Sheet:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 21%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#tags</p></th>
<th class="head"><p>#header</p></th>
<th class="head"><p>#add</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>Sample ID</p></td>
<td><p>#sample.id</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Weight</p></td>
<td><p>#.dry_weight;#.dry_weight%units=mg</p></td>
</tr>
</tbody>
</table>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.xlsx --output output.json --save-export csv</span>
</pre></div>
</div>
<p>Output JSON:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">  &quot;sample&quot;: {</span>
<span class="go">    &quot;KO labelled_1&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.2&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_1&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;KO labelled_3&quot;: {</span>
<span class="go">      &quot;dry_weight&quot;: &quot;4.8&quot;,</span>
<span class="go">      &quot;dry_weight%units&quot;: &quot;mg&quot;,</span>
<span class="go">      &quot;id&quot;: &quot;KO labelled_3&quot;</span>
<span class="go">    }</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Export Output:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 25%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#ignore</p></th>
<th class="head"><p>Sample ID</p></th>
<th class="head"><p>Weight</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>#tags</p></td>
<td><p>#sample.id</p></td>
<td><p>#.dry_weight;#.dry_weight%units=mg</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>KO labelled_1</p></td>
<td><p>4.2</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>KO labelled_3</p></td>
<td><p>4.8</p></td>
</tr>
</tbody>
</table>
</section>
<section id="show-option">
<h4>Show Option<a class="headerlink" href="#show-option" title="Permalink to this heading"></a></h4>
<p>Input File:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 11%" />
<col style="width: 41%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#tags</p></th>
<th class="head"><p>#sample.id</p></th>
<th class="head"><p>#%child.id=-media-0h;#.dry_weight;#.dry_weight%units=mg</p></th>
<th class="head"><p>#%child.id=-media-3h;#.dry_weight;#.dry_weight%units=mg</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>KO labelled_1</p></td>
<td><p>4.2</p></td>
<td><p>8.5</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>KO labelled_2</p></td>
<td><p>4.7</p></td>
<td><p>9.7</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>#tags</p></td>
<td><p>#protocol.id</p></td>
<td><p>#.field2</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>protocol_1</p></td>
<td><p>value1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>protocol_2</p></td>
<td><p>value2</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>#tags</p></td>
<td><p>#factor.id</p></td>
<td><p>#.field1</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>factor_1</p></td>
<td><p>value1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>factor_2</p></td>
<td><p>value2</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.csv --show tables</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Tables:  sample protocol factor</span>
</pre></div>
</div>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.csv --show lineage</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sample :</span>
<span class="go">  KO labelled_1 :</span>
<span class="go">    KO labelled_1-media-0h, KO labelled_1-media-3h</span>
<span class="go">  KO labelled_2 :</span>
<span class="go">    KO labelled_2-media-0h, KO labelled_2-media-3h</span>
</pre></div>
</div>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes extract input_file.csv --show all</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Tables:  sample protocol factor</span>
<span class="go"> sample :</span>
<span class="go">   KO labelled_1 :</span>
<span class="go">     KO labelled_1-media-0h, KO labelled_1-media-3h</span>
<span class="go">   KO labelled_2 :</span>
<span class="go">     KO labelled_2-media-0h, KO labelled_2-media-3h</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="validate">
<h2>Validate<a class="headerlink" href="#validate" title="Permalink to this heading"></a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Usage:
    messes validate json &lt;input_JSON&gt; [--pds=&lt;pds&gt; [--csv | --xlsx | --json | --gs] | --no_base_schema] 
                                      [--no_extra_checks]
                                      [--additional=&lt;add_schema&gt;...] 
                                      [--format=&lt;format&gt;]
                                      [--silent=&lt;level&gt;]
    messes validate save-schema &lt;output_schema&gt; [--input=&lt;input_JSON&gt;] 
                                                [--pds=&lt;pds&gt; [--csv | --xlsx | --json | --gs]] 
                                                [--format=&lt;format&gt;]
                                                [--silent=&lt;level&gt;]
    messes validate schema &lt;input_schema&gt;
    messes validate pds &lt;pds&gt; [--csv | --xlsx | --json | --gs] [--silent=&lt;level&gt;] [--save=&lt;output_name&gt;]
    messes validate pds-to-table &lt;pds_json&gt; &lt;output_name&gt; [&lt;output_filetype&gt;]
    messes validate pds-to-json &lt;pds_tabular&gt; [--csv | --xlsx | --gs] &lt;output_name&gt;
    messes validate cd-to-json-schema &lt;conversion_directives&gt; [--csv | --xlsx | --json | --gs] &lt;output_schema&gt;
    messes validate --help
    
    &lt;input_JSON&gt; - if &#39;-&#39; read from standard input.
    &lt;pds&gt; - can be a JSON, csv, xlsx, or Google Sheets file. If xlsx or Google Sheets, the default sheet name to read in is #validate, 
           to specify a different sheet name separate it from the file name with a colon ex: file_name.xlsx:sheet_name.
           If &#39;-&#39; read from standard input.
    &lt;input_schema&gt; - must be a valid JSON Schema file. If &#39;-&#39; read from standard input.
    &lt;output_schema&gt; - if &#39;-&#39; save to standard output.
    &lt;output_name&gt; - path to save tabular pds to, if &#39;-&#39; save to standard output as CSV.
    &lt;output_filetype&gt; - &quot;xlsx&quot; or &quot;csv&quot;, defaults to &quot;csv&quot;.
    &lt;conversion_directives&gt; - can be a JSON, csv, xlsx, or Google Sheets file. If xlsx or Google Sheets, 
                              the default sheet name to read in is #convert, to specify a different 
                              sheet name separate it from the file name with a colon ex: file_name.xlsx:sheet_name.
                              If &#39;-&#39; read from standard input.

Options:
    -h, --help                           - show this screen.
    -v, --version                        - show version.
    --silent &lt;level&gt;                     - if &quot;full&quot; silence all warnings, 
                                           if &quot;nuisance&quot; silence warnings that are more likely to be a nuisance,
                                           if &quot;none&quot; do not silence warnings [default: none].
    --pds &lt;pds&gt;                            - a protocol-dependent schema file, can be a JSON, csv, or xlsx file. 
                                           If xlsx the default sheet name to read in is #validate, to specify 
                                           a different sheet name separate it from the file name with a colon 
                                           ex: file_name.xlsx:sheet_name.
    --csv                                - indicates that the protocol-dependent schema file is a csv (comma delimited) file.
    --xlsx                               - indicates that the protocol-dependent schema file is an xlsx (Excel) file.
    --json                               - indicates that the protocol-dependent schema file is a JSON file.
    --gs                                 - indicates that the protocol-dependent schema file is a Google Sheets file.
                                           If a file type is not given then it will be guessed from the file extension.
    --additional &lt;add_schema&gt;            - an additional JSON Schema file that will be used to validate &lt;input_JSON&gt;.
    --format &lt;format&gt;                    - additional validation done for the desired supported format. 
                                           Current supported formats: 
                                               mwtab
    --no_base_schema                     - don&#39;t validate with the base JSON schema.
    --no_extra_checks                    - only do JSON Schema validation and nothing else.
    --input &lt;input_JSON&gt;                 - optionally give an input JSON file to save-schema to reproduce the 
                                           schema used to validate in the json command.
    --save &lt;output_name&gt;                 - save the JSON Schema created from the protocol-dependent schema.
    

The &quot;json&quot; command will validate the &lt;input_JSON&gt; against the internal base_schema, and optional schema provided 
by the --pds and --additional options. To validate only against a provided schema, use the --additional and --no_base_schema options.

The &quot;save-schema&quot; command will save the internal base_schema to the &lt;output_schema&gt; location. If --pds is given 
then it will be parsed and placed into the base_schema. If --input is given, the protocols table will be added 
in with the PDS to reproduce what happens in the json command. If --format is used, then that format schema is 
saved instead of the base_schema.

The &quot;schema&quot; command will validate the &lt;input_schema&gt; against the JSON Schema meta schema.

The &quot;pds&quot; command will validate that the &lt;pds&gt; file is a valid protocol-dependent schema file. 
If the --save option is given, then save the built JSON Schema.

The &quot;pds-to-table&quot; command will read in a protocol-dependent schema in JSON form and save it out in a tabular form.

The &quot;pds-to-json&quot; command will read in a protocol-dependent schema in tabular form and save it out in a JSON form. 

The &quot;cd-to-json-schema&quot; command will read in conversion directives and create a JSON Schema 
template file that can be filled in and used to validate files that will be converted using those directives.
</pre></div>
</div>
<p>Validation can be broken down into layers. The first layer is making sure the data is valid
against the <a class="reference internal" href="experiment_description_specification.html"><span class="doc">Experiment Description Specification</span></a>. This includes things such as making sure every protocol
is one of the 5 types, making sure every sample entity has a parent, and all records have the
required fields. This layer is built into the validate command and does not require any
user input. The second layer is a layer that validates fields in table records based on
their protocol(s). This layer does require the user to generate what is called a <a class="reference internal" href="protocol_dependent_schema.html"><span class="doc">Protocol-Dependent Schema</span></a>
(PDS) that defines what fields are required for records with the protocols that are in it.
The protocol-dependent schema can be a JSON file or a tagged tabular file detailed below. The
protocol-dependent schema is not required, but it is highly recommended to minimize problems in
the conversion step.</p>
<p>The validate command is used to validate extracted data. It is not guaranteed to catch everything wrong, but it makes a best attempt to check for
common issues. This can be highly influenced by the user through the –pds and –additional options, which allow the user to specify a protocol-dependent
schema and additional JSON schema, respectively. The protocol-dependent schema (PDS) is detailed in the <a class="reference internal" href="protocol_dependent_schema.html"><span class="doc">Protocol-Dependent Schema</span></a> section of the documentation, and allows
users to specify additional validation based on the protocols of records. The additional JSON schema is any arbitrary valid <a class="reference external" href="https://json-schema.org/understanding-json-schema/">JSON schema</a> and it is
simply used as is as additional validation.</p>
<p>While the “json” command is the reason validate was created the other commands were added to support it. The “save-schema” command was added so
that users can see the JSON schema being created and used by the “json” command and possibly modify it for use with the –additional option.
The “schema” command was added as an easy way for users to check that any JSON schemas they create are valid. Similarly, the “pds” command was
added so users can check that the protocol-dependent schemas they create are valid. The “pds-to-table” command was created so that a JSONized
protocol-dependent schema can be transformed into a tabular form that may be easier to edit and view. The “pds-to-json” command is the inverse
of the “pds-to-table” command and will take a protocol-dependent schema in tabular form and convert it to JSON. Note that this is just the
protocol-dependent schema in JSON form, and not the protocol-dependent schema built into a JSON Schema. To build the protocol-dependent schema
into a JSON Schema and save it, use the “–save” option of the “pds” command. The “cd-to-json-schema” command will take a
conversion directives file for the convert command and create a JSON Schema template from it that can be used as a start to creating a schema
that can be used to validate data before those conversion directives are used on it. The command goes through the conversion directives and
finds all fields used and required by the directives to create the JSON Schema template. The template alone is not enough and additional
checks on the fields such as type checks need to be added manually to the template, but it is a good place to start.</p>
<p>Although the validate command uses JSON schema, it also introduces 4 new formats. The “integer” and “numeric” formats were introduced
so that string type values can be treated as numeric type values. It allows you to use JSON schema keywords such as “minimum” even if
the value is a string type. This is accomplished by converting the string value to an integer or floating point type before validating
those keywords. As an example, say we have an “intensity” field whose value is “1234” as a string type. If you would like to validate
that all intensity fields are greater than 0 you can use the “minimum” keyword in JSON schema. Normally, this wouldn’t work as the value
is a string type, but if you add a “format” keyword and set the format to “numeric” then the validate command will convert intensity fields
to floats before doing the normal JSON schema validation. The import thing to be aware of here is NOT to set the “type” keyword to “string”
for any field that you use the “integer” or “numeric” format on because it will throw a wrong type validation error after the conversion to
a numeric type. If you need to enforce a string type and also want the benefits of the “integer” and “numeric” formats, then use the “str_integer”
and “str_numeric” formats. They operate the same as their “integer” and “numeric” counterparts, but also validate that the value is a string
type. Again, DO NOT set a “type” field equal to “string” at the same time when using any of these formats because it will throw a wrong type
validation error. “string” can be included in a list of types, but cannot be the only type.</p>
<section id="id1">
<h3>Options<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<dl class="option-list">
<dt><kbd><span class="option">--silent</span></kbd></dt>
<dd><p>This option specifies what warnings should be printed. “full” will silence all warnings, “nuisance” will only silence warnings that
have been deemed to be a nuisance in some circumstances, and “none” will silence no warnings which is the default.</p>
</dd>
<dt><kbd><span class="option">--pds</span></kbd></dt>
<dd><p>This option specifies that a protocol-dependent schema should be used with the command and where to read the file from. If “-” is given,
the PDS will be read from stdin, anything else is interpreted as a filepath. If the PDS is an Excel file, the default sheet name to read in is
#validate, to specify a different sheet name separate it from the file name with a colon ex: file_name.xlsx:sheet_name.</p>
</dd>
<dt><kbd><span class="option">--csv</span></kbd></dt>
<dd><p>This option specifies that the PDS file is a CSV (comma delimited) file. If the PDS file is read from stdin, it is required to indicate
what type of file it is, otherwise it will be determined from the file extension if not specified.</p>
</dd>
<dt><kbd><span class="option">--xlsx</span></kbd></dt>
<dd><p>This option specifies that the PDS file is an Excel file. This type of file cannot be read from stdin, but can still be specified to
indicate that the PDS file is an Excel file.</p>
</dd>
<dt><kbd><span class="option">--json</span></kbd></dt>
<dd><p>This option specifies that the PDS file is a JSON file. If the PDS file is read from stdin, it is required to indicate what type of
file it is, otherwise it will be determined from the file extension if not specified.</p>
</dd>
<dt><kbd><span class="option">--gs</span></kbd></dt>
<dd><p>This option specifies that the PDS file is a Google Sheets file. This type of file cannot be read from stdin, but can still be specified to
indicate that the PDS file is a Google Sheets file.</p>
</dd>
<dt><kbd><span class="option">--additional</span></kbd></dt>
<dd><p>This option specifies that an additional JSON schema file should be used with the command and where to read the file from.
If “-” is given, the file will be read from stdin, anything else is interpreted as a filepath.</p>
</dd>
<dt><kbd><span class="option">--format</span></kbd></dt>
<dd><p>This option specifies that additional validation should be done with the assumption that the input JSON is going to be converted
into the given format.</p>
</dd>
<dt><kbd><span class="option">--no_base_schema</span></kbd></dt>
<dd><p>This option specifies that validation against the base schema should not be done. Use this along with the
–no_extra_checks option to validate against only your own schema supplied with the –additional option.</p>
</dd>
<dt><kbd><span class="option">--no_extra_checks</span></kbd></dt>
<dd><p>This option specifies that extra validation beyond the base schema should not be done. Use this along with the
–no_base_schema option to validate against only your own schema supplied with the –additional option.</p>
</dd>
<dt><kbd><span class="option">--input</span></kbd></dt>
<dd><p>This option specifies that an input JSON file should be used with the “save-schema” command and where to read the file from.
If “-” is given, the file will be read from stdin, anything else is interpreted as a filepath. If a PDS is given, protocols from the input
protocol table are added to the parent_protocol table in the PDS, which changes the final schema used for validation. So you may need to specify
an input JSON file to reproduce the schema from the “json” command exactly.</p>
</dd>
<dt><kbd><span class="option">--save</span></kbd></dt>
<dd><p>This option specifies that the JSON Schema created from the PDS should be saved out to the indicated file path.</p>
</dd>
</dl>
</section>
<section id="id2">
<h3>Examples<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<p>The inputs and outputs are too large to demonstrate readily inline, but there are examples available in the examples folder on the <a class="reference external" href="https://github.com/MoseleyBioinformaticsLab/messes">GitHub</a> repository.</p>
<section id="basic-json-validation">
<h4>Basic JSON Validation<a class="headerlink" href="#basic-json-validation" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate json input.json</span>
</pre></div>
</div>
</section>
<section id="json-validation-against-a-supported-format">
<h4>JSON Validation Against A Supported Format<a class="headerlink" href="#json-validation-against-a-supported-format" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate json input.json --format mwtab_MS</span>
</pre></div>
</div>
</section>
<section id="json-validation-with-a-protocol-dependent-schema">
<h4>JSON Validation With A Protocol-Dependent Schema<a class="headerlink" href="#json-validation-with-a-protocol-dependent-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate json input.json --pds PDS_file.json</span>
</pre></div>
</div>
</section>
<section id="json-validation-with-added-user-schema">
<h4>JSON Validation With Added User Schema<a class="headerlink" href="#json-validation-with-added-user-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate json input.json --additional user_schema.json</span>
</pre></div>
</div>
</section>
<section id="json-validation-with-only-added-user-schema">
<h4>JSON Validation With Only Added User Schema<a class="headerlink" href="#json-validation-with-only-added-user-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate json input.json --additional user_schema.json --no_base_schema --no_extra_checks</span>
</pre></div>
</div>
</section>
<section id="read-input-json-from-stdin">
<h4>Read Input JSON From STDIN<a class="headerlink" href="#read-input-json-from-stdin" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate json -</span>
</pre></div>
</div>
</section>
<section id="read-protocol-dependent-schema-from-stdin">
<h4>Read Protocol-Dependent Schema From STDIN<a class="headerlink" href="#read-protocol-dependent-schema-from-stdin" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate json input.json --pds - --json</span>
</pre></div>
</div>
</section>
<section id="save-base-schema">
<h4>Save Base Schema<a class="headerlink" href="#save-base-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate save-schema output_name.json</span>
</pre></div>
</div>
</section>
<section id="save-composite-schema">
<h4>Save Composite Schema<a class="headerlink" href="#save-composite-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate save-schema output_name.json --pds PDS_file.json --input input.json</span>
</pre></div>
</div>
</section>
<section id="save-format-schema">
<h4>Save Format Schema<a class="headerlink" href="#save-format-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate save-schema output_name.json --format mwtab_MS</span>
</pre></div>
</div>
</section>
<section id="validate-a-json-schema">
<h4>Validate A JSON Schema<a class="headerlink" href="#validate-a-json-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate schema input_schema.json</span>
</pre></div>
</div>
</section>
<section id="validate-a-protocol-dependent-schema">
<h4>Validate A Protocol-Dependent Schema<a class="headerlink" href="#validate-a-protocol-dependent-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate pds PDS_file.json</span>
</pre></div>
</div>
</section>
<section id="save-the-json-schema-created-from-the-protocol-dependent-schema">
<h4>Save The JSON Schema Created From The Protocol-Dependent Schema<a class="headerlink" href="#save-the-json-schema-created-from-the-protocol-dependent-schema" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate pds PDS_file.json --save PDS_JSON_Schema.json</span>
</pre></div>
</div>
</section>
<section id="transform-a-jsonized-protocol-dependent-schema-to-a-table">
<h4>Transform A JSONized Protocol-Dependent Schema To A Table<a class="headerlink" href="#transform-a-jsonized-protocol-dependent-schema-to-a-table" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate pds-to-table PDS_file.json tabular_PDS_file.csv</span>
</pre></div>
</div>
</section>
<section id="transform-a-tabular-protocol-dependent-schema-to-json">
<h4>Transform A Tabular Protocol-Dependent Schema To JSON<a class="headerlink" href="#transform-a-tabular-protocol-dependent-schema-to-json" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate pds-to-json PDS_file.csv JSONized_PDS_file.json</span>
</pre></div>
</div>
</section>
<section id="create-a-json-schema-from-conversion-directives">
<h4>Create A JSON Schema From Conversion Directives<a class="headerlink" href="#create-a-json-schema-from-conversion-directives" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes validate cd-to-json-schema directives.json directives_schema.json</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="convert">
<h2>Convert<a class="headerlink" href="#convert" title="Permalink to this heading"></a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Usage:
    messes convert mwtab (ms | nmr | nmr_binned) &lt;input_JSON&gt; &lt;output_name&gt; [--update &lt;conversion_directives&gt; | --override &lt;conversion_directives&gt;] [--silent]
    messes convert save-directives mwtab (ms | nmr | nmr_binned) &lt;output_filetype&gt; [&lt;output_name&gt;]
    messes convert generic &lt;input_JSON&gt; &lt;output_name&gt; &lt;conversion_directives&gt; [--silent]
    messes convert --help
    
    &lt;conversion_directives&gt; - can be a JSON, csv, xlsx, or Google Sheets file. If xlsx or Google Sheets the default sheet name to read in is #convert, 
                              to specify a different sheet name separate it from the file name with a colon ex: file_name.xlsx:sheet_name.
                              
    &lt;output_filetype&gt; - &quot;json&quot;, &quot;xlsx&quot;, or &quot;csv&quot;

Options:
    -h, --help                           - show this screen.
    -v, --version                        - show version.
    --silent                             - silence all warnings.
    --update &lt;conversion_directives&gt;     - conversion directives that will be used to update the built-in directives for the format.
                                           This is intended to be used for simple changes such as updating the value of 
                                           the analysis ID. You only have to specify what needs to change, any values 
                                           that are left out of the update directives won&#39;t be changed. If you need to remove 
                                           directives then use the override option.
    --override &lt;conversion_directives&gt;   - conversion directives that will be used to override the built-in directives for the format.
                                           The built-in directives will not be used and these will be used instead.
    
    

The general command structure for convert is convert &lt;format&gt; which will convert an input JSON file over to the supported format. 
The outputs of these commands will save both the JSON conversion and the final format file.

The generic command is the same as the supported formats except the user is required to input conversion directives specifying how to 
convert the input JSON to the desired output JSON. Only an output JSON is saved.

The save-directives command is used to print the default conversion directives used by convert for any of the supported formats. &lt;output-filetype&gt; 
can be one of &quot;json&quot;, &quot;xlsx&quot;, or &quot;csv&quot;. The file is saved as &quot;format_conversion_directives.ext&quot; where &quot;.ext&quot; is replaced with &quot;.json&quot;, &quot;.xlsx&quot;, 
or &quot;.csv&quot; depending on the value of &lt;output-format&gt;, unless &lt;output_name&gt; is given.

</pre></div>
</div>
<p>The convert command is used to convert extracted and validated data from it’s intermediate JSON form to the final desired format. There are commands for
each supported format, detailed in the <a class="reference internal" href="supported_formats.html"><span class="doc">Supported Conversion Formats</span></a> section, that use built-in conversion directives, and the “generic” command that requires
the user supply conversion directives. The supported formats may have additional sub-commands depending on the complexity of the format. Details about
each supported format are in the <a class="reference internal" href="supported_formats.html"><span class="doc">Supported Conversion Formats</span></a> section, and it is HIGHLY recommended to read through that section and look at examples before
attempting a conversion.</p>
<section id="id3">
<h3>Options<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<dl class="option-list">
<dt><kbd><span class="option">--update</span></kbd></dt>
<dd><p>For supported formats, allows the user to specify a file of conversion directives that will be used to update the built-in directives for the format.
This is intended to be used for simple changes such as updating the value of the analysis ID. You only have to specify what
needs to change. Any values that are left out of the update directives won’t be changed. If you need to remove directives,
then use the override option.</p>
</dd>
<dt><kbd><span class="option">--override</span></kbd></dt>
<dd><p>For supported formats, allows the user to override the built-in directives for the format. The built-in directives
will not be used and these will be used instead.</p>
</dd>
<dt><kbd><span class="option">--silent</span></kbd></dt>
<dd><p>This option will silence all warning messages. Errors will still be printed.</p>
</dd>
</dl>
</section>
<section id="id4">
<h3>Examples<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<p>The inputs and outputs are too large to demonstrate readily inline, but there are examples available in the examples folder on the <a class="reference external" href="https://github.com/MoseleyBioinformaticsLab/messes">GitHub</a> repository.</p>
<section id="basic-supported-format-run">
<h4>Basic Supported Format Run<a class="headerlink" href="#basic-supported-format-run" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes convert mwtab ms input_file.json my_output_name</span>
</pre></div>
</div>
</section>
<section id="updating-built-in-directives-for-supported-format-run">
<h4>Updating Built-In Directives For Supported Format Run<a class="headerlink" href="#updating-built-in-directives-for-supported-format-run" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes convert mwtab ms input_file.json my_output_name --update directive_changes.json</span>
</pre></div>
</div>
</section>
<section id="overriding-built-in-directives-for-supported-format-run">
<h4>Overriding Built-In Directives For Supported Format Run<a class="headerlink" href="#overriding-built-in-directives-for-supported-format-run" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes convert mwtab ms input_file.json my_output_name --override new_directives.json</span>
</pre></div>
</div>
</section>
<section id="save-built-in-directives-for-supported-formats">
<h4>Save Built-In Directives For Supported Formats<a class="headerlink" href="#save-built-in-directives-for-supported-formats" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes convert save-directives ms json</span>
</pre></div>
</div>
</section>
<section id="basic-generic-run">
<h4>Basic Generic Run<a class="headerlink" href="#basic-generic-run" title="Permalink to this heading"></a></h4>
<p>Command Line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">messes convert generic input_file.json my_output_name my_conversion_directives.json</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cli.html" class="btn btn-neutral float-left" title="CLI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tagging.html" class="btn btn-neutral float-right" title="Tagging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Hunter Moseley, Travis Thompson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>